name: Install and test BWA
on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Install dependencies
      run: |
        sudo apt-get update
        sudo apt-get install -y build-essential wget
    - name: Download and install BWA
      run: |
        wget https://github.com/lh3/bwa/archive/refs/tags/v0.7.17.tar.gz
        tar xvfz v0.7.17.tar.gz
        cd bwa-0.7.17
        make
        sudo make install
    - name: Verify BWA installation
      run: |
        bwa

